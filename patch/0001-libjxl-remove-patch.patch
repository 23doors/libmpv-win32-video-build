From 7afbee5f440182a55435579c7415d50465f18cab Mon Sep 17 00:00:00 2001
From: zhongfly <11155705+zhongfly@users.noreply.github.com>
Date: Fri, 27 Jan 2023 12:55:13 +0000
Subject: [PATCH] libjxl: remove patch

---
 packages/libjxl-0001-fix-suffix.patch | 34 ---------------------------
 packages/libjxl.cmake                 |  1 -
 2 files changed, 35 deletions(-)
 delete mode 100644 packages/libjxl-0001-fix-suffix.patch

diff --git a/packages/libjxl-0001-fix-suffix.patch b/packages/libjxl-0001-fix-suffix.patch
deleted file mode 100644
index e2ae124..0000000
--- a/packages/libjxl-0001-fix-suffix.patch
+++ /dev/null
@@ -1,34 +0,0 @@
-From 303363dc10b2e793c15f277546f35cea7fd62192 Mon Sep 17 00:00:00 2001
-From: shinchiro <shinchiro@users.noreply.github.com>
-Date: Sat, 17 Dec 2022 21:07:43 +0800
-Subject: [PATCH] fix suffix
-
----
- lib/jxl.cmake | 4 ++--
- 1 file changed, 2 insertions(+), 2 deletions(-)
-
-diff --git a/lib/jxl.cmake b/lib/jxl.cmake
-index a8a96e1..1a4e804 100644
---- a/lib/jxl.cmake
-+++ b/lib/jxl.cmake
-@@ -426,7 +426,7 @@ target_include_directories(jxl_dec-obj PUBLIC
-   "$<BUILD_INTERFACE:${PROJECT_SOURCE_DIR}>"
-   "$<BUILD_INTERFACE:${CMAKE_CURRENT_SOURCE_DIR}/include>"
-   "$<BUILD_INTERFACE:$<TARGET_PROPERTY:hwy,INTERFACE_INCLUDE_DIRECTORIES>>"
--  "$<BUILD_INTERFACE:$<TARGET_PROPERTY:brotlicommon-static,INTERFACE_INCLUDE_DIRECTORIES>>"
-+  "$<BUILD_INTERFACE:$<TARGET_PROPERTY:brotlicommon,INTERFACE_INCLUDE_DIRECTORIES>>"
- )
- target_compile_definitions(jxl_dec-obj PUBLIC
-   ${OBJ_COMPILE_DEFINITIONS}
-@@ -444,7 +444,7 @@ target_include_directories(jxl_enc-obj PUBLIC
-   ${PROJECT_SOURCE_DIR}
-   ${CMAKE_CURRENT_SOURCE_DIR}/include
-   $<TARGET_PROPERTY:hwy,INTERFACE_INCLUDE_DIRECTORIES>
--  $<TARGET_PROPERTY:brotlicommon-static,INTERFACE_INCLUDE_DIRECTORIES>
-+  $<TARGET_PROPERTY:brotlicommon,INTERFACE_INCLUDE_DIRECTORIES>
- )
- target_compile_definitions(jxl_enc-obj PUBLIC
-   ${OBJ_COMPILE_DEFINITIONS}
--- 
-2.38.0
-
diff --git a/packages/libjxl.cmake b/packages/libjxl.cmake
index 11dd71d..8e36b62 100644
--- a/packages/libjxl.cmake
+++ b/packages/libjxl.cmake
@@ -15,7 +15,6 @@ ExternalProject_Add(libjxl
     GIT_SUBMODULES ""
     UPDATE_COMMAND ""
     PATCH_COMMAND ${EXEC} curl -sL https://github.com/libjxl/libjxl/pull/1444.patch | git am --3way --whitespace=fix
-          COMMAND ${EXEC} git am --3way ${CMAKE_CURRENT_SOURCE_DIR}/libjxl-*.patch
     CONFIGURE_COMMAND ""
     COMMAND bash -c "rm -rf <SOURCE_DIR>/third_party/brotli"
     COMMAND bash -c "ln -s ${src_brotli} <SOURCE_DIR>/third_party/brotli"
-- 
2.25.1

